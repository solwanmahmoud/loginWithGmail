<!DOCTYPE html>
<html>

<head>
  <meta name="google-signin-client_id"
    content="16919293418-cqt1fgm6l414dmiv0g4n0gafme4nj6jk.apps.googleusercontent.com">
  <title>User Registration and Login</title>
  <link rel="stylesheet" type="text/css" href="./form.css">
</head>

<body>
  <!-- REGULAR LOGIN -->
  <form id="loginForm">
    <label for="Name">Name:</label>
    <input type="Name" id="Name" required>
    <label for="email">Email:</label>
    <input type="email" id="email" required>
    <label for="password">Password:</label>
    <input type="password" id="password" required>
    <button type="submit">Login</button>
  </form>

  <!-- GOODLE LOGIN -->
  <div id="g_id_onload" data-client_id="16919293418-cqt1fgm6l414dmiv0g4n0gafme4nj6jk.apps.googleusercontent.com"
    data-context="signin" data-ux_mode="popup" data-callback="loginCallBack" data-auto_prompt="false">
  </div>
  <div class="g_id_signin" data-type="standard" data-shape="rectangular" data-theme="filled_blue"
    data-text="signin_with" data-size="large" data-logo_alignment="left">
  </div>
  <!-- GOODLE LOGIN SCRIPT FILES -->
  <script src="https://accounts.google.com/gsi/client" async></script>
  <script src="https://cdn.jsdelivr.net/npm/jwt-decode@4.0.0/build/cjs/index.min.js"></script>
  <script>
    var currentEmail, currentName;

    function loginCallBack(resopnse) {
      var decodedCredential = jwtDecode(resopnse.credential);
      console.log(decodedCredential);
      currentEmail = decodedCredential.email;
      console.log(currentEmail);
      currentName = decodedCredential.given_name;
      localStorage.setItem("currentEmail", currentEmail);
      localStorage.setItem("currentName", currentName);
      window.location.href = "./home.html";
      google.accounts.id.revoke("solwanmahmoud9977@gmail.com", () => {window.location.href = "./home.html";});
    }

  </script>
  <!-- REGULAR LOGIN SCRIPT FILE -->
  <script src="./form.js"></script>

</body>

</html>